"0","# Get standard protein names"
"0","source(""C:/MyStuff/tRNAs/Scripts/R/Mine/0.general_use_functions.R"")"
"0","microarray_data <- match_systematic_and_standard_protein_names(data = microarray_data,"
"0","                                                               yeastmine = yeastmine,"
"0","                                                               input = ""systematic"","
"0","                                                               simplify = FALSE,"
"0","                                                               add_extra_columns = FALSE)"
"0",""
"0","# Join with our proteomics data - not too sure if this merge is the most appropriate way to do it, even though I think so?"
"0","trna_ko_temp <- trna_ko %>%"
"0","  mutate(Gene.symbol = rownames(trna_ko))"
"0","proteomics_and_microarray_data <- left_join(trna_ko_temp, microarray_data, by = ""Gene.symbol"") # IM KEEPING ALL PROTEINS IN TRNA_KO, THERE ARE ACTUALLY 2863 WHICH ARE IN BOTH, SO SOME IN TRNA_KO ARE NOT IN MICROARRAY_DATA, I SHOULD FIX THIS CODE SO THOSE ARE NOT INCLUDED IN THE RESULTING DATA SET"
"0",""
"0","# Correlation heatmap between our samples "
"0","samples_in_microarray <- colnames(microarray_data)[2:6]"
"0","sample_names_escaped <- c(""tM\\(CAU\\)C"",  ""tR\\(CCU\\)J"",  ""tR\\(UCU\\)M2"", ""tH\\(GUG\\)G1"", ""tL\\(GAG\\)G"")"
"0","proteomics_and_microarray_subset <- data.frame(matrix(nrow = nrow(proteomics_and_microarray_data), ncol = 0))"
"0",""
"0","for (i in 1:length(samples_in_microarray)) {"
"0","  sample_name <- sample_names_escaped[i]"
"0","  temp <- proteomics_and_microarray_data[, grepl(sample_name, colnames(proteomics_and_microarray_data))]"
"0","  proteomics_and_microarray_subset <- cbind(proteomics_and_microarray_subset, temp)"
"0","}"
"0",""
"0","cormat <- round(cor(proteomics_and_microarray_subset, use = ""pairwise.complete.obs"", method = ""kendall""), 2)"
"0","melted_cormat <- melt(cormat)"
"2","Aviso: Al melt genérico en data.table se le ha pasado un matrix e intentará redirigir al método reshape2 relevante; tenga en cuenta que reshape2 ha sido reemplazado y ya no se desarrolla activamente, y esta redirección ahora está obsoleta. Para continuar usando métodos de fusión de reshape2 mientras ambas bibliotecas están adjuntas, p. melt.list, puede anteponer el espacio de nombres, es decir, reshape2::melt(cormat). En la próxima versión, esta advertencia se convertirá en un error."
"0","ggplot(data = melted_cormat, aes(x=Var1, y=Var2, fill=value)) + "
"0","  geom_tile() +"
"0","  geom_text(aes(Var2, Var1, label = value), size = 3) +"
"0","  scale_fill_gradient2(low = ""blue"", high = ""red"","
"0","                       limit = c(-1,1), name=""Correlation"") +"
"0","  theme(axis.title.x = element_blank(),"
"0","        axis.title.y = element_blank(),"
"0","        panel.background = element_blank(),"
"0","        axis.text.x = element_text(angle = 45, vjust = 1, hjust=1))"
